<%= simple_form_for @reminder, data: { controller: "flatpickr" } do |f| %>
  <div class="fields">
      <%= f.input :interval, as: :radio_buttons,
                  input_html: { class: "tag-selector" },
                  item_wrapper_class: 'tag-item',
                  collection: Reminder::INTERVALS,
                  label: false %>
      <%= f.input :target_date, 
        as: :string, 
        input_html: { data: { flatpickr_target: "selectDate" } },
        label: false,
        placeholder: "When do you want to be reminded?" %>
  </div>
  <%= f.input :reoccurring %>
  <% if @reminder.new_record? %>
    <%= f.simple_fields_for @contact_reminder do |sf| %>
        <% if pre_selected_contact_id %>
            <%= sf.association :contact,    
                selected: [current_user.contacts.find(pre_selected_contact_id).full_name, current_user.contacts.find(pre_selected_contact_id).id], 
                collection: current_user.contacts, 
                label_method: :full_name, 
                value_method: :id,
                as: :hidden,
                :input_html => { value: current_user.contacts.find(pre_selected_contact_id).id } %>
        <% else %>
            <%= sf.association :contact, collection: current_user.contacts, label_method: :full_name, value_method: :id %>
        <% end %>
    <% end %>
  <% end %>
  <%= f.submit class: "button-success" %>
<% end %>

<style>
.reminder_interval > legend {
  display: none;
}
.category-wrapper {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
}

.category-item {
  flex: 0 0 30%;
}

.category-selector {
  position: absolute;
  transform: scale(0);
}

.category-selector + label {
  display: block;
  cursor: pointer;
  box-sizing: border-box;
  width: 100%;
  font-size: 12px;
  text-align: left;
  padding: 10px 10px 30px 10px;
  border: 1px solid #EAEAEA;
  border-radius: 4px;
  background-color: white;
}

.category-selector:checked + label {
  color: white !important;
}


#snippet_category_ruby + label {
  color: #FD1015;
}

#snippet_category_ruby:checked + label {
  background-color: #FD1015;
  border-color: #FD1015;
}


#snippet_category_javascript + label {
  color: #FFC65A;
}

#snippet_category_javascript:checked + label {
  background-color: #FFC65A;
  border-color: #FFC65A;
}


#snippet_category_css + label {
  color: #62DDF5;
}

#snippet_category_css:checked + label {
  background-color: #62DDF5;
  border-color: #62DDF5;
}
</style>