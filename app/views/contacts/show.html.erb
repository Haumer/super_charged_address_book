<div class="contact-profile">
    <%= link_to :back, class: "back-link" do %>
        <i class="fa-light fa-arrow-left"></i> Back
    <% end %>
        <div class="contact-fields">
            <div class="section-header full-name-and-group">
                <div class="full-name">
                    <%= @contact.full_name %>
                </div>
                <div class="links">
                    <%= link_to new_contact_reminder_path(contact_id: @contact), class: "reminder-link" do %>
                        <i class="fa-light fa-bell"></i>
                    <% end %>
                    <%= link_to edit_contact_path(@contact), class: "edit-link" do %>
                        <i class="fa-light fa-pen-to-square"></i>
                    <% end %>
                    <%= link_to contact_path(@contact), class: "delete-link", data: { turbo_confirm: "Are you sure you want to delete this contact?", "turbo-method": :delete } do %>
                        <i class="fa-light fa-trash"></i>
                    <% end %>
                </div>
            </div>
            <div class="contact-field">
                <div class="contact-field-name">
                    Birthday:
                </div>
                <% if @contact.birthday %>
                    <div class="contact-birthday contact-field-value">
                        <%= @contact.birthday.strftime("%b %d, %Y") %>
                    </div>
                <% end %>
            </div>
            <div class="contact-field">
                <div class="contact-field-name">
                    Email:
                </div>
                <div class="contact-email contact-field-value">
                    <%= @contact.email %>
                </div>
            </div>
            <div class="contact-field">
                <div class="contact-field-name">
                    Phone Number:
                </div>
                <div class="contact-phone-number contact-field-value">
                    <%= @contact.phone_number %>
                </div>
            </div>
        </div>
        <div class="contact-profile-reminders">
            <%= render "contact_reminders", reminder_type_name: "Active Reminders", reminders: @contact.active_reminders %>
            <%= render "contact_reminders", reminder_type_name: "Old Reminders", reminders: @contact.inactive_reminders %>
        </div>
        <div class="contact-profile-notes">
            <div class="notes">
                <% @contact.notes.each do |note| %>
                    <div class="note">
                        <div class="note-timestamp-and-content">
                            <div class="note-timestamp">
                                <%= note.created_at.strftime("%b %e, %Y %l:%M %p") %>:
                            </div>
                            <div class="note-content">
                                <%= note.rich_content %>
                            </div>
                        </div>
                        <div class="note-delete">
                            <%= link_to note_path(note), data: { turbo_confirm: "Are you sure you want to delete this note?", "turbo-method": :delete } do %>
                                <i class="fa-light fa-trash"></i>
                            <% end %>
                        </div>
                    </div>
                <% end %>
            </div>
            <div class="new-contact-note">
                <%= render "notes/form", contact: @contact, note: Note.new %>
            </div>
        </div>
        <%= render "group_contacts/form", contact: @contact, group_contact: @contact.group_contact %>
        <%= render "tags_form", contact: @contact, contact_tag: ContactTag.new %>
        <%= turbo_frame_tag "new_tag" do %>
            <%= link_to "Create new Tag", new_tag_path, class: "button-secondary action" %>
        <% end %>
    </div>
</div>
