<%= simple_form_for tag do |f| %>
    <%= f.input :name, label: false, placeholder: "Tag Name" %>
    <%= f.input :color, 
        collection: Tag::COLORS,
        as: :radio_buttons, 
        label: false, 
        input_html: { class: "tag-selector" },
        item_wrapper_class: 'tag-item' %> 
    <br>
    <%= f.submit class: "button-success" %>
<% end %>

<script>
let colors = document.querySelectorAll(".tag-item")
colors.forEach(color => {
    let label = color.querySelector("label")
    let input = color.querySelector("input")
    label.style.backgroundColor = input.value
    if(input.value === "#74121D" || input.value === "#414770" || input.value === "#372248" ) {
        label.style.color = "white"
    }
})
</script>

<style>
.tag-item {
    margin-bottom: 4px;
    margin-right: 4px;
}
.tag-selector + label {
    transition: 0.3s all ease-in-out;
    opacity: 0.9;
    border: 2px solid transparent;
}
.tag-selector:checked + label {
    opacity: 1;
    border: 2px solid black;
}
</style>